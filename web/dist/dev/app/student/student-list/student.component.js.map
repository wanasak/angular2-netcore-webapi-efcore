{"version":3,"sources":["app/student/student-list/student.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAA6D;AAC7D,+CAA+C;AAG/C,sDAAqD;AACrD,8DAA4D;AAW5D,IAAa,gBAAgB;IAMzB,0BACY,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QAH1C,oBAAe,GAAY,IAAI,iBAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAI/D,CAAC;IAEL,mCAAQ,GAAR;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,sCAAW,GAAX;QAAA,iBAKC;QAJG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;aAC5B,SAAS,CAAC,UAAC,QAAoB;YAC5B,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC7B,CAAC,CAAC,CAAC;IACX,CAAC;IACD,+CAAoB,GAApB,UAAqB,OAAgB;QACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;IACzC,CAAC;IACD,+CAAoB,GAApB,UAAqB,OAAgB;QACjC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;IACD,sDAA2B,GAA3B;QAAA,iBASC;QARG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;aAC5D,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,WAAW,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAA,EAAE,IAAI,OAAA,EAAE,CAAC,SAAS,IAAI,KAAI,CAAC,eAAe,CAAC,SAAS,EAA9C,CAA8C,CAAC,CAAC;YAChG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YACrC,KAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;YAC9B,MAAM,CAAC;QACX,CAAC,CAAC,CAAC;IACX,CAAC;IACD,yCAAc,GAAd;QACI,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;IACO,+CAAoB,GAA5B;QACI,IAAI,CAAC,eAAe,GAAG,IAAI,iBAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACnE,CAAC;IAEL,uBAAC;AAAD,CA5CA,AA4CC,IAAA;AA1CmC;IAA/B,gBAAS,CAAC,mBAAmB,CAAC;8BAA2B,8BAAc;2DAAC;AAFhE,gBAAgB;IAT5B,gBAAS,CAAC;QACP,QAAQ,EAAE,SAAS;QACnB,WAAW,EAAE,mDAAmD;QAChE,MAAM,EAAE,CAAC,yEAIR,CAAC;KACL,CAAC;qCAQ8B,gCAAc;GAPjC,gBAAgB,CA4C5B;AA5CY,4CAAgB","file":"student.component.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalDirective } from 'ng2-bootstrap';\n\nimport { IStudent } from '../../shared/interfaces';\nimport { Student } from '../../shared/model/student';\nimport { StudentService } from '../service/student.service';\n\n@Component({\n    selector: 'student',\n    templateUrl: './app/student/student-list/student.component.html',\n    styles: [`\n        table .btn-link {\n            padding: 0px;\n        }\n    `]\n})\nexport class StudentComponent implements OnInit {\n\n    @ViewChild('childConfirmModal') public childConfirmModal: ModalDirective;\n    students: IStudent[];\n    selectedStudent: Student = new Student(null, null, null, null, []);\n\n    constructor(\n        private studentService: StudentService\n    ) { }\n\n    ngOnInit() {\n        this.getStudents();\n    }\n\n    getStudents() {\n        this.studentService.getStudents()\n            .subscribe((students: IStudent[]) => {\n                this.students = students;\n            });\n    }\n    onClickDetailStudent(student: Student) {\n        console.log(JSON.stringify(student));\n    }\n    onClickDeleteStudent(student: Student) {\n        this.selectedStudent = student;\n        this.childConfirmModal.show();\n    }\n    onClickConfirmDeleteStudent() {\n        this.studentService.deleteStudent(this.selectedStudent.studentId)\n            .subscribe(res => {\n                let deleteIndex = this.students.findIndex(st => st.studentId == this.selectedStudent.studentId);\n                this.students.splice(deleteIndex, 1);\n                this.cleanSelectedStudent();\n                this.childConfirmModal.hide();\n                return;\n            });\n    }\n    hideChildModal() {\n        this.childConfirmModal.hide();\n    }\n    private cleanSelectedStudent() {\n        this.selectedStudent = new Student(null, null, null, null, []);\n    }\n\n}"]}